# Video production and DOS tools

## Editor

`e.exe` is the editor that I used in this video. It only runs in DOS.
It is strongly modelled after Joe, https://joe-editor.sourceforge.io/,
replicating the WordStar input scheme.
Despite this, it is not intended to be used by *anyone*.
It only exists for the purpose of facilitating making videos.
If you try to use it yourself, you will quickly run into bugs
and other problems that shatter the facade.

I have explained its story at:
https://www.youtube.com/watch?v=5Da6ZyQJjE0

You can find more information about the editor
in the `that_editor` subdirectory.

## new.php

I have explained at https://www.youtube.com/watch?v=5Da6ZyQJjE0
how I make programming videos. At the core there are three files:

* Source script file, here `conj.cc.lst`
* Definitions file, here `phase2.defs`
* Input generator tool, here `new.php`

The source script file contains the entire source code produced in the
video, with some annotations that specify the order in which different
things are typed.

Here are a few useful commands you can use if you are interested at
debugging this or perhaps making similar videos yourself:

### Step-by-step listing

`php new.php -p phase2.defs | less -R`

Make sure your terminal window is large enough.  
This generates a colorful step-by-step listing of what
is being presented on the screen at any time
during the video.

### Final output generation

`php new.php -f[<number>] phase2.defs > result.y`

This can be used to verify the validity of the script(s).
It runs simulation for all the editing steps and produces
the output that would be generated after all those.

You can optionally specify a number that limits the process
until the given step number. The step numbers are those that
are given in the first column of the `lst` file,
and those that are listed in the headers in the `-p` output.

### Input generation

`php new.php phase2.defs > inputter.dat`

This generates input for the `inputter.com` program.
See below.

## Inputter

`inputter.com` is a precompiled version of the software available at:
https://bisqwit.iki.fi/source/inputter.html

It processes the script generated by `new.php` and simulates keyboard input.

This version does *not* require a patched version of DOSBox
that has a special high-resolution timer that I added.

However, if run in an unpatched DOSBox,
the input timings will be a lot less precise than they are designed to be.

## Patched DOSBox

The directory `dosbox/` contains my patches to DOSBox version 0.74.
They can be applied to vanilla DOSBox or to Debianâ€™s releases
at least up to version `0.74-4.1`.
